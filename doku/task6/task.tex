\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{subfigure}
\author{Alexander Binsmaier, Manuel Mende, Yaroslav Direy}
\title{Auswertung MPGA -- günstige und ungünstige Parametrisierungen}

\begin{document}
\maketitle
\tableofcontents
\section{Allgemeines Vorgehen}
Um die Parametrisierung der Algorithmen gegeneinander auszuwerten, muss eine Vergleichsbasis geschaffen werden. Eine Möglichkeit ist es, den genetischen Multi-Populations-Algorithmus ohne Migration laufen zu lassen. Basierend auf den Ergebnissen dieses Durchlaufs können dann unterschiedliche Konfigurationen des Algorithmus ausgeführt und verglichen werden. Um die Komplexität zu relativieren, wurden einige Einschränkungen getroffen. Die Algorithmen sollen immer auf acht Chromosome umfassende Populationen angewendet werden. Die Parametrisierung des zugrunde liegenden genetischen Algorithmus ist identisch -- abgesehen von den verwendeten Fitnessfunktionen -- und die durchlaufenden Generationen werden auch konstant gehalten. Eine geeignete Anzahl Generationen wird durch die migrationslose Ausführung festgelegt. Als Variationsparameter verbleiben die Anzahl an Migrationen und die Anzahl an Generationen bis zur nächsten Migration. Zudem kann die Strategie variiert werden.
Primär existiert die uneingeschränkte Migration (unrestricted), bei der jede Population in jede andere Population migrieren kann. Als zweite Möglichkeit besteht die Ring-Migration. Hier wird semantisch nicht zusammenhängend in die nächste Population migriert. Die auf Nachbarschaft basierende Migrationsstrategie erlaubt eine Migration nur, wenn Ziel- und Quellpopulation auf der selben Seite -- also vor oder hinter -- der Parklücke liegen. 
Die Auswertung erfolgt im Anschluss und betrachtet vor allem die Entwicklung der mittleren Populationsfitness über die Epochen. Speziell gilt das Interesse, wie schnell ein akzeptables Fitness-Niveau erreicht wird. Auch die Testfälle der Ergebnispopulation werden entsprechend in die Bewertung mit eingehen, sowie deren Ähnlichkeit innerhalb der Populationen.

\section{Migrationsfreier Durchlauf}
Primär dient die migrationsfreie Ausführung des Algorithmus der Festlegung einer Vergleichsbasis. Zudem kann die Geschwindigkeit der Konvergenz des Algorithmus als Indiz für die Anzahl notwendiger Generationen für die migrierenden Ausführungen verwendet werden. Die Ausführung erfolgt dabei mit den selben Realisierungen der genetischen Algorithmen -- identische Fitnessfunktionen in den einzelnen Populationen, gleiche Parametrisierung der Rekombination und Mutation -- wie in den Durchläufen mit Migration. Um ein Generationslimit festzulegen, wir eine sehr hohe Anzahl Generationen gewählt. Für jede Population werden 5000 Epochen durchlaufen.
\begin{figure}
\centering
	\subfigure[Mittlere Fitness\label{fig:plain_fit}]{
		\includegraphics[width=.45\textwidth]{plain-fit.jpg}
	}
	\subfigure[Ergebnispopulation\label{fig:plain_tcs}]{
		\includegraphics[width=.45\textwidth]{plain-tcs.jpg}
	}
	\caption{Migrationsfreie Evolution mit 5000 Generationen}
\end{figure}

\subsection{Entwicklung der Fitness}
Wie in Abbildung \ref{fig:plain_fit} ersichtlich, konvergiert die gemittelte Fitness der Populationen zu einem maximalen Wert von etwa $0.5$, welcher für die beste Population bereits ab 1000 Generationen erreicht wird. Daher wurde als Generationslimit für die migrierenden Ausführungen 1000 Generationen gewählt. Zwar treten in einigen Generationen auch später noch Verbesserungen auf. Jedoch besteht die Hoffnung, dass ein migrierender Ansatz hier schneller zu besseren Werten führt.

\subsection{Testfälle}
Natürlich ist es erforderlich, dass die Fitness schnell konvergiert. Dennoch muss auch beachtet werden, dass die resultierenden Testfälle auch die Anforderungen erfüllen. Die Populationen wurden nach diversen Gesichtspunkten ausgewählt. So kann das Fahrzeug vor oder hinter der Parklücke liegen und tendenziell nach oben, unten, links oder rechts orientiert sein. Aus der Kombination von Lage und Orientierung ergeben sich acht Populationen, die jeweils charakteristische Chromosome hervorbringen. Diese müssen in der Ergebnispopulation auftreten.
\begin{figure}
\centering
\end{figure}
Abbildung \ref{fig:plain_tcs} zeigt eine Ergebnispopulation ohne Migration. Deutlich sind die entsprechenden Klassen erkennbar.

\section{Schlechte Konfigurationen}
Allgemein hat es sich als schlecht erwiesen, einen großen Teil der Population zu tauschen. Bei jedem Migrations-Schritt wird die Gesamtfitness in ihrer Entwicklung zurück geworfen. Bei großen Zyklen wird dies besonders deutlich, bei kleineren Zyklen entsteht ein Rauschen ohne ersichtlichen Fitnessgewinn. Werden sieben von acht Chromosomen neu belegt ist keine Verbesserung erkennbar, wie Abbildung \ref{fig:high_migrate} verdeutlicht. Mit einem Migrationsabstand von 50 Generationen erkennt man den Einbruch der Fitness deutlich.
Ein Austausch von 50\% der Population führt schon zu einer Steigerung der Gesamtfitness.
\begin{figure}
\centering
	\subfigure[Hohe Migrationsrate\label{fig:high_migrate}]{
		\includegraphics[width=.45\textwidth]{high_migrate.jpg}
	 }
	 \subfigure[Mittlere Migrationsrate\label{fig:mid_migrate}]{
		\includegraphics[width=.45\textwidth]{mid_migrate.jpg}
	 }
	 \caption{Migration alle 50 Generationen}
\end{figure}
Im Vergleich zu anderen Parametrisierungen ist diese allerdings gering und im Besonderen schlechter als migrationsfreie Evolution, was Abbildung \ref{fig:mid_migrate} entnommen werden kann. In Ausnahmefällen kann es dennoch zu einer sprunghaften Steigerung führen, allerdings ist dieses Verhalten stark vom Zufall behaftet.

\section{Gute Konfigurationen}
% Generell ist eine migRate von 1 gut. Häufige Migration sorgt für schnelle Konvergenz (cs=1). Seltene Migration (cs=100) sorgt für homogene Ergebnispopulationen, die Konvergenz ist nicht ganz so schnell. Dennoch ist die Geschwindigkeit in Relation zum plain-Ansatz besser.
Eine gering gewählte Anzahl Migrationsvorgänge in jedem Migrationszyklus führt zu stärkerer Fitness-Konvergenz.
\begin{figure}
\centering
\subfigure[Kleine Migrationszyklen\label{fig:small_cycles}]{
	\includegraphics[width=.45\textwidth]{policy-ring_migRate-1_cycleSize-1-fit.jpg}
}
\subfigure[Große Migrationszyklen\label{fig:big_cycles}]{
	\includegraphics[width=.45\textwidth]{policy-ring_migRate-1_cycleSize-250-fit.jpg}
}
\caption{Fitness unterschiedlicher Migrationszyklus-Längen}
\end{figure}
Abbildung \ref{fig:small_cycles} zeigt kleine Migrationszyklen der Größe eins. Es wird also nach jedem Evolutionsschritt migriert. Man erkennt eine sich schnell verbessernde Gesamtfitness. Bei 250 Generationen vor der nächsten Migration in Abbildung \ref{fig:big_cycles} ist auch ein Aufwärtstrend erkennbar, allerdings nur wenig schneller als bei der isolierten Evolution aus Abbildung \ref{fig:plain_fit}.
\begin{figure}
\centering
\subfigure[Kleine Migrationszyklen\label{fig:small_cycles_tcs}]{
	\includegraphics[width=.45\textwidth]{policy-ring_migRate-1_cycleSize-1-tcs.jpg}
}
\subfigure[Große Migrationszyklen\label{fig:big_cycles_tcs}]{
	\includegraphics[width=.45\textwidth]{policy-ring_migRate-1_cycleSize-250-tcs.jpg}
}
\caption{Ergebnispopulation verschiedener Migrationszyklus-Längen}
\end{figure}
Vergleicht man hingegen die Ergebnispopulationen, erkennt man eine stärkere Homogenität der Testfälle bei größeren Migrationszyklen. Dies ist zu erwarten, da der genetische Algorithmus bei kleinen Migrationszyklen nicht die Chance bekommt, neu migrierte Individuen in seine Population aufzunehmen beziehungsweise auszugrenzen. Die hellblaue Population in \ref{fig:big_cycles_tcs} schwankt stark, selbiges gilt für die rote und die magenta-farbige Population. Bei den Testfällen in Abbildung \ref{fig:small_cycles_tcs} hingegen weist lediglich die gelbe Population stark unterschiedliche Individuen auf. Betrachtet man die resultierenden Testfälle genauer, passen sie genau in das spezifizierte Testfall-Schema. Jede Population lässt sich einer Testfallklasse zuordnen.

\section{Zusammenfassung}
Allgemein kann also durch eine Abwägung von Konvergenz-Geschwindigkeit und Heterogenität der Testfälle eine geeignete Migrationszyklus-Größe gewählt werden.
\end{document}
